<?xml version="1.0" encoding="utf-8"?>
<!--
  Copyright (c) 2012 David Magro Martin.
  All rights reserved. This program and the accompanying materials
  are made available under the terms of the GNU Public License v3.0
  which accompanies this distribution, and is available at
  http://www.gnu.org/licenses/gpl.html
  
  Contributors:
      David Magro Martin - initial API and implementation
-->
<resources>

    <string name="SQL_oncreate">
        CREATE TABLE movements (id_movement INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
                                amount NUMERIC NOT NULL,
                                insert_date TIMESTAMP NOT NULL DEFAULT current_timestamp,
                                get_date TIMESTAMP,
                                description TEXT, 
                                break_moneybox INTEGER);
    </string>
    <string name="SQL_onUpgrade">
        DROP TABLE IF EXISTS movements;
    </string>
    
    <string name="SQL_movements_sumAmount">
        SELECT sum(amount) FROM movements WHERE get_date IS NULL;
    </string>

    <string name="SQL_last_break_movement">
        SELECT * 
        FROM movements 
        WHERE insert_date = (
                SELECT max(insert_date) 
                FROM movements 
                WHERE break_moneybox &lt;> 0
              )
        ORDER BY insert_date ASC;
    </string>
    
    <string name="SQL_next_break_movement">
        SELECT * 
        FROM movements 
        WHERE insert_date > ? AND 
        	break_moneybox &lt;> 0;
    </string>
    
    <string name="SQL_active_movements">
        SELECT * 
        FROM movements 
        WHERE get_date IS NULL
    </string>
        
    <string name="SQL_active_movements_by_date">
        SELECT * 
        FROM movements 
        WHERE insert_date > ? AND get_date IS NULL
    </string>
        
</resources>
